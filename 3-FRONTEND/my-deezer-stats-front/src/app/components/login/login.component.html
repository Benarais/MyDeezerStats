<div class="login-container">
    <h1>Connexion</h1>
    
    <form (ngSubmit)="login()" #loginForm="ngForm" class="login-form">
      <!-- Champ Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <input
          id="email"
          name="email"
          type="email"
          [(ngModel)]="email"
          required
          email
          placeholder="votre@email.com"
          [class.invalid]="loginForm.submitted && loginForm.controls['email'].invalid"
        >
        <div *ngIf="loginForm.submitted && loginForm.controls['email'].errors" class="validation-error">
          <span *ngIf="loginForm.controls['email'].errors['required']">Email requis</span>
          <span *ngIf="loginForm.controls['email'].errors['email']">Format email invalide</span>
        </div>
      </div>
  
      <!-- Champ Mot de passe -->
      <div class="form-group">
        <label for="password">Mot de passe</label>
        <input
          id="password"
          name="password"
          type="password"
          [(ngModel)]="password"
          required
          minlength="6"
          placeholder="••••••"
          [class.invalid]="loginForm.submitted && loginForm.controls['password'].invalid"
        >
        <div *ngIf="loginForm.submitted && loginForm.controls['password'].errors" class="validation-error">
          <span *ngIf="loginForm.controls['password'].errors['required']">Mot de passe requis</span>
          <span *ngIf="loginForm.controls['password'].errors['minlength']">
            6 caractères minimum
          </span>
        </div>
      </div>
  
      <!-- Message d'erreur global -->
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
  
      <!-- Bouton de soumission -->
      <button type="submit" [disabled]="isLoading" class="submit-btn">
        <span *ngIf="!isLoading">Se connecter</span>
        <span *ngIf="isLoading">
          <span class="spinner"></span> Connexion...
        </span>
      </button>
  
      <!-- Lien optionnel -->
      <div class="footer-links">
        <a routerLink="/forgot-password">Mot de passe oublié ?</a>
      </div>
    </form>
  </div>