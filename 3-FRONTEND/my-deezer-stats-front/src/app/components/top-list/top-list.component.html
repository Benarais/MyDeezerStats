<div class="dashboard-container" [class.loading]="isLoading">
  <div class="loading-overlay" *ngIf="isLoading">
    <div class="spinner"></div>
  </div>

  <div class="tools-container">
    <!-- Sélecteur de période -->
    <div class="period-selector-container">
      <select class="period-selector" 
              [(ngModel)]="selectedPeriod" 
              (change)="onPeriodChange()">
        <option *ngFor="let period of periods" 
                [value]="period.value">
          {{ period.label }}
        </option>
      </select>
    </div>
  </div>

  <section class="section">
    <h2 class="clickable">
      <i class="fas" [ngClass]="{
        'fa-compact-disc': type === 'album',
        'fa-user': type === 'artist',
        'fa-music': type === 'track'
      }"></i> 
      {{ getTitle() }}
    </h2>

    <div class="card-list">
      <div *ngFor="let item of items.slice(0, 50); let i = index"
           class="card"
           (click)="navigateToDetail(item)"
           [title]="formatTitle(item)">
        <div class="rank">{{ i + 1 }}</div>
        <img [src]="getImage(item)" alt="Cover" class="card-image" />
        <div class="card-content">
          <h3>{{ getMainText(item) }}</h3>
          <p *ngIf="getSubText(item)">{{ getSubText(item) }}</p>
          <p>{{ item.count }} écoutes</p>
        </div>
      </div>
    </div>
  </section>
</div>